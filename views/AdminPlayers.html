<div class="wrap">
	<div class="row" ng-app="WRO" ng-controller="PlayerCtrl">
		<div class="col-md-8">
			<div class="panel panel-primary sublime">
				<div class="panel-heading">
					<span class="glyphicon glyphicon-list"></span> Player Table
					<div class="btn-group pull-right">
						<button type="button" class="btn btn-info btn-xs" ng-click="Refresh()">
						    Refresh <span class="glyphicon glyphicon-refresh"></span>
						</button>
						<button type="button" class="btn btn-info btn-xs" ng-click="Add()">
						    Add <span class="glyphicon glyphicon-plus"></span>
						</button>
					</div>
				</div>
				<table id="tblEditPlayers" class="table">
				    <thead>
				        <tr>
				            <th>ID</th>
			            	<th>User Name</th>
				            <th>Name</th>
				            <th>Class</th>
				            <th>Options</th>
				        </tr>
				    </thead>
				    <tbody>
				        <tr dir-paginate="player in model.Players | filter:q | itemsPerPage: 15">
				            <td><span ng-bind="player.ID"></span></td>
				            <td><span ng-bind="player.Username"></span></td>
				            <td><span ng-class="player.ClassStyle" ng-bind="player.Name"></span></td>
				            <td><span ng-class="player.ClassStyle" ng-bind="player.ClassName"></span></td>
				            <td align="right">
				    			<button type="button" class="btn-xs btn-info" ng-click="Edit(player)">
				    				<span class="glyphicon glyphicon-edit"></span>
				    			</button>
				                <button type="button" class="btn-xs btn-danger" ng-click="Remove(player)">
				                    <span class="glyphicon glyphicon-remove"></span>
				                </button>
				            </td>
				        </tr>
				    </tbody>
				</table>
				<div class="panel-footer clearfix">
					<div class="form-inline col-xs-5">
						<div class="form-group">
							<label>Search:</label>
							<input type="text" class="form-control" ng-model="q" placeholder="Filter text">
						</div>
					</div>
					<dir-pagination-controls class="pull-right"></dir-pagination-controls>
				</div>
			</div>
		</div>

		<div class="col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span class="glyphicon glyphicon-cog"></span> Table Settings
				</div>
				<div class="panel-body">
					<form class="form-horizontal" role="form">
						Coming soon!
					</form>
				</div>
				<div class="panel-footer" align="right">
					<button class="btn btn-primary">
						Save <small><span class="glyphicon glyphicon-floppy-disk"></span></small>
					</button>
				</div>
			</div>
		</div>

		<script type="text/ng-template" id="deleteRowModal.html">
			<div class="modal-header">
  				<button type="button" class="close" aria-label="Close" ng-click="cancel()">
  					<span aria-hidden="true">&times;</span>
				</button>
				<h3 class="modal-title">Delete Player</h3>
			</div>
			<div class="modal-body form-horizontal">
				<div class="form-group">
					<label class="control-label col-xs-3">ID:</label>
					<span class="col-xs-9 form-control-static" ng-bind="row.ID"></span>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-3">User Name:</label>
					<span class="col-xs-9 form-control-static" ng-bind="row.Username"></span>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-3">Name:</label>
					<span class="col-xs-9 form-control-static" ng-class="row.ClassStyle" ng-bind="row.Name"></span>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-3">Class:</label>
					<span class="col-xs-9 form-control-static" ng-class="row.ClassStyle" ng-bind="row.ClassName"></span>
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-warning" ng-click="cancel()">
					Cancel <small><i class="glyphicon glyphicon-remove" /></small>
				</button>
				<button class="btn btn-primary" ng-click="delete()">
					Delete <small><i class="glyphicon glyphicon-trash" /></small>
				</button>
			</div>
		</script>

		<script type="text/ng-template" id="addRowModal.html">
			<form name="formAddPlayer" novalidate>
				<div class="modal-header">
	  				<button type="button" class="close" aria-label="Close" ng-click="cancel()">
	  					<span aria-hidden="true">&times;</span>
					</button>
					<h3 class="modal-title">Add New Player</h3>
				</div>
				<div class="modal-body form-horizontal">
					<div class="form-group">
						<label class="control-label col-xs-3">User Name:</label>
						<div class="col-xs-9">
							<div class="input-group select-fix">
								<span class="input-group-addon">
									<input type="checkbox" ng-model="HasUserID">
								</span>
								<user-select class="form-control" ng-model="NewPlayer.UserID" ng-disabled="!HasUserID" />
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-3">Name:</label>
						<div class="col-xs-9">
							<input class="form-control" name="addPlayerName" ng-model="NewPlayer.Name" ng-required="true"
								   ng-pattern="'\\p{L}+'" ng-minlength="3" maxlength="12">
						</div>
						<div ng-messages="formAddPlayer.addPlayerName.$error" class="col-xs-9 col-xs-offset-3 help-block error-text" 
							 ng-if="formAddPlayer.$invalid && (formAddPlayer.addPlayerName.$touched || formAddPlayer.$submitted)">
							<div ng-message="required">This field is required.</div>
							<div ng-message="minlength">Player name must be at least 3 characters long.</div>
							<div ng-message="pattern">Player names must only contain letters.</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-3">Class:</label>
						<div class="col-xs-9 select-fix">
							<class-select class="form-control" ng-model="NewPlayer.ClassID"></class-select>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" ng-click="cancel()">
						Cancel <small><i class="glyphicon glyphicon-remove" /></small>
					</button>
					<button class="btn btn-primary" type="submit" ng-click="add(formAddPlayer)">
						Add <small><i class="glyphicon glyphicon-plus" /></small>
					</button>
				</div>
			</form>
		</script>

		<script type="text/ng-template" id="editRowModal.html">
			<form name="formEditPlayer" novalidate>
				<div class="modal-header">
	  				<button type="button" class="close" aria-label="Close" ng-click="cancel()">
	  					<span aria-hidden="true">&times;</span>
					</button>
					<h3 class="modal-title">Edit Player</h3>
				</div>
				<div class="modal-body form-horizontal">
					<div class="form-group">
						<label class="control-label col-xs-3">ID:</label>
						<span class="col-xs-9 form-control-static" ng-bind="row.ID"></span>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-3">User Name:</label>
						<div class="col-xs-9">
							<div class="input-group select-fix">
								<span class="input-group-addon">
									<input type="checkbox" ng-model="HasUserID">
								</span>
								<user-select class="form-control" ng-model="row.UserID" ng-disabled="!HasUserID" />
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-3">Name:</label>
						<div class="col-xs-9">
							<input name="editPlayerName" class="form-control" ng-model="row.Name" ng-required="true" 
								   ng-pattern="'\\p{L}+'" ng-minlength="3" maxlength="12">
						</div>
						<div ng-messages="formEditPlayer.editPlayerName.$error" class="col-xs-9 col-xs-offset-3 help-block error-text" 
							 ng-if="formEditPlayer.$invalid && (formEditPlayer.editPlayerName.$touched || formEditPlayer.$submitted)">
							<div ng-message="required">This field is required.</div>
							<div ng-message="minlength">Player name must be at least 3 characters long.</div>
							<div ng-message="pattern">Player names must only contain letters.</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-3">Class:</label>
						<div class="col-xs-9 select-fix">
							<class-select class="form-control" ng-model="row.ClassID"></class-select>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" ng-click="cancel()">
						Cancel <small><i class="glyphicon glyphicon-remove" /></small>
					</button>
					<button class="btn btn-primary" ng-click="save(formEditPlayer)">
						Edit <small><i class="glyphicon glyphicon-floppy-disk" /></small>
					</button>
				</div>
			</form>
		</script>
	</div>
</div>